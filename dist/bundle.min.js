var Client=function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t,a){},function(e,t,a){"use strict";async function n(){let e=document.getElementById("date_start").value,t=new Date;if(Number(t.getMonth()+1)<10)var a="0"+String(Number(t.getMonth()+1));else a=t.getMonth()+1;let n=t.getFullYear()+"-"+a+"-"+t.getDate();const i=new Date(n),o=new Date(e);let r=(new Date(document.getElementById("date_end").value).getTime()-o.getTime())/864e5,l=(o.getTime()-i.getTime())/864e5;if(l<0||"Select a country"==countries[document.getElementById("countries").selectedIndex])l<0?(document.getElementById("error").textContent="Travel date has passed.",document.getElementById("error").style.display="block"):(document.getElementById("error").textContent="Please select a country.",document.getElementById("error").style.display="block");else{let e=await fetch("http://localhost:8081/getCoordinates?location="+document.getElementById("destination").value),t=await e.json();if(console.log("locationCoordinates: ",locationCoordinates),"This is an error"==t.lat)document.getElementById("error").textContent="Please check if the destination is correct",document.getElementById("error").style.display="block";else{document.getElementById("error").style.display="none";let e=await fetch(`http://localhost:8081/getWeather?long=${t.long}&lat=${t.lat}&Diff=${l}`);e=await e.json();let a=e.description,n=e.temp;if(console.log("forecast: ",a,"temperature: ",n),"This is an error"==n)document.getElementById("error").textContent="Please check if the destination is correct",document.getElementById("error").style.display="block";else{let e=document.getElementById("destination").value[0].toUpperCase()+document.getElementById("destination").value.slice(1).toLowerCase(),t=await fetch("http://localhost:8081/getPictures?location="+document.getElementById("destination").value);console.log(t);let i=await t.json();i=i.image,console.log("image: ",i);let o=`\n                <section class="trips">\n                    <div>\n                        <img src="${i}" alt="Image of ${e}">\n                        <figcaption>A view of ${e}.</figcaption>\n                    </div>\n                    <div class="trips_information">\n                        <h4 class="trips_title">My travel to: ${e}, ${countries[document.getElementById("countries").selectedIndex]}</h4> \n                        <p>The star date of the trip is: ${document.getElementById("date_start").value}</p>\n                        <p>The end date of the trip is: ${document.getElementById("date_end").value}</p>\n                        <p>The lenght of the trip is ${r} days</p>\n                        <p>The trip to ${e} is ${l>0?"in"+l+"days":"Today"}</p> \n                        <p>The weather condition is: ${a} at ${n}&degC</p>\n                        <button class="delete_trip" onclick='Client.deleteTripInfo(this)'>Delete</button>\n                    </div> \n                </section>`,d=document.querySelector(".trip");d.innerHTML=o+d.innerHTML,document.getElementById("countries").value=countries[0],document.getElementById("destination").value="","undefined"==String(localStorage.trip)?localStorage.trip=""+o:localStorage.trip=`${o}${localStorage.trip}`,console.log(localStorage.trip)}}}}function i(e){let t=document.querySelector(".journey").childNodes;console.log(t);let a=e.parentElement,n=0,i="";for(let e of t)"#text"==e.nodeName&&e.parentElement.removeChild(e);console.log("journey lenght: ",t);for(let e=1;e<t.length;e+=2)console.log(e+": ",t[e]),a.textContent==t[e].textContent?(n=e,t[e].setAttribute("class","travel_1"),t[e-1].setAttribute("class","travel_2")):(i+=`<div class="trips>${String(t[e-1].innerHTML)}</div>`,i+=`<div class="information">${String(t[e].innerHTML)}</div>`);let o=document.querySelector(".travel_1");o.style.display="none",o.parentElement.removeChild(o);let r=document.querySelector(".travel_2");r.style.display="none",r.parentElement.removeChild(r),localStorage.trips=i}a.r(t);const o=["Select a country","Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","CÃ´te d'Ivoire","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo-Brazzaville","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ehiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq"," Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libiya","Liechtenstein","Lithuania","Lixembourg","Madagascar","Malawi","Malaysia","Madives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon ISlands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Siriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];function r(){for(let e=0;e<o.length;e++){let t=document.createElement("option");t.text=o[e],t.value=o[e],document.getElementById("countries").appendChild(t)}return"finished"}r();a(0);a.d(t,"addTripInfo",(function(){return n})),a.d(t,"deleteTripInfo",(function(){return i})),a.d(t,"listCountry",(function(){return r})),document.getElementById("save").addEventListener("click",n)}]);